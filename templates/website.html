<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury Handbag Auction Visualization</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #8B0000;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #8B0000;
            color: white;
            border-radius: 5px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .dropdown-container {
            text-align: center;
            margin-bottom: 20px;
        }
        select {
            padding: 10px 15px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ddd;
            background-color: white;
            cursor: pointer;
        }
        .chart-container {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 30px;
        }
        .chart-title {
            margin-top: 0;
            color: #343a40;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .hidden {
            display: none;
        }
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        @media (max-width: 768px) {
            .two-column {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Christie's Hong Kong March 2025 Handbag Auction</h1>
        <p>Interactive Visualization Dashboard</p>
    </div>

    <div class="container">
        <div class="dropdown-container">
            <select id="visualizationDropdown" onchange="showVisualization()">
                <option value="">Select a Visualization</option>
                <option value="general">VISUALIZATIONS 1: General Sale Performance</option>
                <option value="brand">VISUALIZATIONS 2: General Sale Results by BRAND</option>
                <option value="brandYear">VISUALIZATIONS 3: Average Prices by Brand and Year</option>
                <option value="color">VISUALIZATIONS 4: Price Results by COLOR</option>
                <option value="leather">VISUALIZATIONS 5: Price realized by Leather</option>
            </select>
        </div>

        <!-- General Sale Performance -->
        <div id="general-section" class="chart-container hidden">
            <h2 class="chart-title">General Sale Performance</h2>
            
            <div class="two-column">
                <div id="saleRelativeEstimates"></div>
                <div id="top10Sales"></div>
            </div>
        </div>

        <!-- General Sale Results by BRAND -->
        <div id="brand-section" class="chart-container hidden">
            <h2 class="chart-title">General Sale Results by BRAND</h2>
            
            <div id="totalSalesByBrand"></div>
            <div id="avgPriceByBrand"></div>
        </div>

        <!-- Average Prices by Brand and Year -->
        <div id="brandYear-section" class="chart-container hidden">
            <h2 class="chart-title">Average Prices by Brand and Year</h2>
            
            <div id="avgPriceByBrandYear"></div>
        </div>

        <!-- Price Results by COLOR -->
        <div id="color-section" class="chart-container hidden">
            <h2 class="chart-title">Price Results by COLOR</h2>
            
            <div class="two-column">
                <div id="avgPriceByColor"></div>
                <div id="priceByBrandColor"></div>
            </div>
            <div id="avgPriceBrandColor"></div>
        </div>

        <!-- Price realized by Leather -->
        <div id="leather-section" class="chart-container hidden">
            <h2 class="chart-title">Price realized by Leather</h2>
            
            <div id="avgPriceByLeather"></div>
        </div>
    </div>

    <script>
        // Show the selected visualization
        function showVisualization() {
            const dropdown = document.getElementById('visualizationDropdown');
            const selectedValue = dropdown.value;
            
            // Hide all sections first
            document.querySelectorAll('.chart-container').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show the selected section
            if (selectedValue) {
                document.getElementById(`${selectedValue}-section`).classList.remove('hidden');
            }
            
            // Render charts when they become visible
            if (selectedValue === 'general') {
                renderSaleRelativeEstimates();
                renderTop10Sales();
            } else if (selectedValue === 'brand') {
                renderTotalSalesByBrand();
                renderAvgPriceByBrand();
            } else if (selectedValue === 'brandYear') {
                renderAvgPriceByBrandYear();
            } else if (selectedValue === 'color') {
                renderAvgPriceByColor();
                renderPriceByBrandColor();
                renderAvgPriceBrandColor();
            } else if (selectedValue === 'leather') {
                renderAvgPriceByLeather();
            }
        }

        // Chart 1: Sale Relative to Estimates
        function renderSaleRelativeEstimates() {
            const data = [
                {
                    x: ['Below Estimate', 'Within Estimate', 'Above Estimate', 'No Sale'],
                    y: [12, 45, 23, 5], // Replace with your actual data
                    type: 'bar',
                    marker: {
                        color: ['#ff6b6b', '#51cf66', '#fcc419', '#868e96']
                    }
                }
            ];

            const layout = {
                title: 'LOT SALES RELATIVE TO ESTIMATES',
                xaxis: { title: 'Estimate' },
                yaxis: { title: 'Number of Bags' },
                margin: { t: 50, b: 100 }
            };

            Plotly.newPlot('saleRelativeEstimates', data, layout);
        }

        // Chart 2: Top 10 Sales
        function renderTop10Sales() {
            const data = [
                {
                    y: ['HERMES — Himalayan Crocodile Birkin 30', 'HERMES — Matte White Porosus Crocodile Birkin 30', 
                        'HERMES — Shiny Rouge H Porosus Crocodile Birkin 30', 'HERMES — Shiny Bleu Saphir Porosus Crocodile Birkin 30',
                        'HERMES — Shiny Noir Porosus Crocodile Birkin 30', 'HERMES — Shiny Vert Cypres Porosus Crocodile Birkin 30',
                        'HERMES — Shiny Rouge Casaque Porosus Crocodile Birkin 30', 'HERMES — Shiny Gold Porosus Crocodile Birkin 30',
                        'HERMES — Shiny Rose Sakura Porosus Crocodile Birkin 30', 'HERMES — Shiny Bleu Electrique Porosus Crocodile Birkin 30'],
                    x: [350000, 280000, 250000, 240000, 230000, 220000, 210000, 200000, 195000, 190000], // Replace with your actual data
                    type: 'bar',
                    orientation: 'h',
                    marker: {
                        color: '#20c997'
                    }
                }
            ];

            const layout = {
                title: 'TOP 10 MOST EXPENSIVE HANDBAGS',
                xaxis: { title: 'Price Realized (USD)' },
                margin: { t: 50, b: 100, l: 200 }
            };

            Plotly.newPlot('top10Sales', data, layout);
        }

        // Chart 3: Total Sales by Brand
        function renderTotalSalesByBrand() {
            const data = [
                {
                    x: ['HERMES', 'CHANEL', 'LOUIS VUITTON', 'DIOR'],
                    y: [3800000, 1200000, 800000, 500000], // Replace with your actual data
                    type: 'bar',
                    marker: {
                        color: ['#845ef7', '#5c7cfa', '#339af0', '#22b8cf']
                    }
                }
            ];

            const layout = {
                title: 'TOTAL SALES BY BRAND',
                xaxis: { title: 'Brand' },
                yaxis: { 
                    title: 'Total Sales (USD)',
                    range: [0, 4000000]
                },
                margin: { t: 50, b: 100 }
            };

            Plotly.newPlot('totalSalesByBrand', data, layout);
        }

        // Chart 4: Average Price by Brand
        function renderAvgPriceByBrand() {
            const vlSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "description": "Average Price Per Brand Item",
                "data": {
                    "values": [
                        {"Brand": "HERMES", "Average_Price_USD": 125000},
                        {"Brand": "CHANEL", "Average_Price_USD": 75000},
                        {"Brand": "LOUIS VUITTON", "Average_Price_USD": 60000},
                        {"Brand": "DIOR", "Average_Price_USD": 45000}
                    ]
                },
                "mark": "bar",
                "encoding": {
                    "x": {
                        "field": "Brand",
                        "type": "nominal",
                        "sort": "-y",
                        "axis": {"labelAngle": 0}
                    },
                    "y": {
                        "field": "Average_Price_USD",
                        "type": "quantitative",
                        "title": "Average Price (USD)"
                    },
                    "color": {"field": "Brand", "type": "nominal"},
                    "tooltip": [
                        {"field": "Brand", "type": "nominal"},
                        {"field": "Average_Price_USD", "type": "quantitative"}
                    ]
                },
                "width": 600,
                "height": 400
            };

            vegaEmbed('#avgPriceByBrand', vlSpec);
        }

        // Chart 5: Average Price by Brand and Year
        function renderAvgPriceByBrandYear() {
            const data = [
                {
                    x: [2010, 2015, 2020, 2025, 2010, 2015, 2020, 2025, 2010, 2015, 2020, 2025, 2010, 2015, 2020, 2025],
                    y: [110000, 120000, 130000, 140000, 60000, 65000, 70000, 75000, 50000, 55000, 60000, 65000, 40000, 45000, 50000, 55000],
                    mode: 'markers',
                    type: 'scatter',
                    marker: {
                        size: 12,
                        color: ['#845ef7', '#845ef7', '#845ef7', '#845ef7', '#5c7cfa', '#5c7cfa', '#5c7cfa', '#5c7cfa', '#339af0', '#339af0', '#339af0', '#339af0', '#22b8cf', '#22b8cf', '#22b8cf', '#22b8cf']
                    },
                    name: 'HERMES'
                }
            ];

            const layout = {
                title: 'AVERAGE PRICE RESULTS BY BRAND PER YEAR MANUFACTURED',
                xaxis: { 
                    title: 'Year Manufactured',
                    tickangle: 45
                },
                yaxis: { title: 'Average Price Realized (USD)' },
                showlegend: true,
                legend: { title: 'Brand' },
                margin: { t: 50, b: 100 }
            };

            Plotly.newPlot('avgPriceByBrandYear', data, layout);
        }

        // Chart 6: Average Price by Color
        function renderAvgPriceByColor() {
            const data = [
                {
                    x: ['Himalayan', 'Rouge H', 'Bleu Saphir', 'Noir', 'Gold', 'Rose Sakura', 'Bleu Electrique', 'Vert Cypres', 'Rouge Casaque', 'White'],
                    y: [350000, 250000, 240000, 230000, 200000, 195000, 190000, 220000, 210000, 280000],
                    type: 'bar',
                    marker: {
                        color: '#1f77b4'
                    }
                }
            ];

            const layout = {
                title: 'AVERAGE AUCTION PRICE BY COLOR (Highest to Lowest)',
                xaxis: { 
                    title: 'Color',
                    tickangle: -45
                },
                yaxis: { title: 'Avg Price (USD)' },
                margin: { t: 50, b: 150 }
            };

            Plotly.newPlot('avgPriceByColor', data, layout);
        }

        // Chart 7: Price by Brand and Color
        function renderPriceByBrandColor() {
            // This would be a more complex chart showing individual bag prices by color and brand
            // For simplicity, we'll create a similar visualization to the Python stripplot
            
            const brands = ['HERMES', 'CHANEL', 'LOUIS VUITTON', 'DIOR'];
            const colors = ['Himalayan', 'Rouge H', 'Bleu Saphir', 'Noir', 'Gold', 'Rose Sakura', 'Bleu Electrique', 'Vert Cypres', 'Rouge Casaque', 'White'];
            
            // Generate some sample data
            let data = [];
            brands.forEach((brand, brandIdx) => {
                colors.forEach((color, colorIdx) => {
                    // Random price based on brand and color position
                    const price = 10000 + (brandIdx * 50000) + (colorIdx * 20000) + (Math.random() * 30000);
                    
                    data.push({
                        x: color,
                        y: price,
                        name: brand,
                        marker: {
                            color: ['#845ef7', '#5c7cfa', '#339af0', '#22b8cf'][brandIdx],
                            size: 10
                        }
                    });
                });
            });
            
            const traces = brands.map(brand => {
                return {
                    x: data.filter(d => d.name === brand).map(d => d.x),
                    y: data.filter(d => d.name === brand).map(d => d.y),
                    name: brand,
                    mode: 'markers',
                    type: 'scatter',
                    marker: {
                        color: data.filter(d => d.name === brand).map(d => d.marker.color),
                        size: 10
                    }
                };
            });

            const layout = {
                title: 'PRICE REALIZED FOR EACH BAG BY BRAND BASED ON COLOR',
                xaxis: { 
                    title: 'Color',
                    tickangle: 45
                },
                yaxis: { title: 'Price Realized (USD)' },
                showlegend: true,
                margin: { t: 50, b: 150 }
            };

            Plotly.newPlot('priceByBrandColor', traces, layout);
        }

        // Chart 8: Average Price by Brand and Color
        function renderAvgPriceBrandColor() {
            // This would show average prices by brand and color
            // For simplicity, we'll create a similar visualization to the Python stripplot
            
            const brands = ['HERMES', 'CHANEL', 'LOUIS VUITTON', 'DIOR'];
            const colors = ['Himalayan', 'Rouge H', 'Bleu Saphir', 'Noir', 'Gold', 'Rose Sakura', 'Bleu Electrique', 'Vert Cypres', 'Rouge Casaque', 'White'];
            
            // Generate some sample data
            let data = [];
            brands.forEach((brand, brandIdx) => {
                colors.forEach((color, colorIdx) => {
                    // Average price based on brand and color position
                    const avgPrice = 10000 + (brandIdx * 50000) + (colorIdx * 20000);
                    
                    data.push({
                        x: color,
                        y: avgPrice,
                        name: brand,
                        marker: {
                            color: ['#845ef7', '#5c7cfa', '#339af0', '#22b8cf'][brandIdx],
                            size: 12
                        }
                    });
                });
            });
            
            const traces = brands.map(brand => {
                return {
                    x: data.filter(d => d.name === brand).map(d => d.x),
                    y: data.filter(d => d.name === brand).map(d => d.y),
                    name: brand,
                    mode: 'markers',
                    type: 'scatter',
                    marker: {
                        color: data.filter(d => d.name === brand).map(d => d.marker.color),
                        size: 12
                    }
                };
            });

            const layout = {
                title: 'AVERAGE PRICE REALIZED BY BRAND BASED ON COLOR',
                xaxis: { 
                    title: 'Color',
                    tickangle: 45
                },
                yaxis: { title: 'Average Price (USD)' },
                showlegend: true,
                margin: { t: 50, b: 150 }
            };

            Plotly.newPlot('avgPriceBrandColor', traces, layout);
        }

        // Chart 9: Average Price by Leather Type
        function renderAvgPriceByLeather() {
            const data = [
                {
                    x: ['Porosus Crocodile', 'Niloticus Crocodile', 'Ostrich', 'Togo Calf', 'Epsom Calf', 'Swift Calf', 'Chevre', 'Lamb', 'Caviar', 'Patent'],
                    y: [280000, 220000, 180000, 120000, 110000, 100000, 95000, 90000, 85000, 80000],
                    type: 'bar',
                    marker: {
                        color: '#1f77b4'
                    }
                }
            ];

            const layout = {
                title: 'AVERAGE PRICE BY LEATHER TYPE',
                xaxis: { 
                    title: 'Leather Type',
                    tickangle: -45
                },
                yaxis: { title: 'Average Price (USD)' },
                margin: { t: 50, b: 150 }
            };

            Plotly.newPlot('avgPriceByLeather', data, layout);
        }

        // Initialize the page by showing the first visualization
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('visualizationDropdown').value = 'general';
            showVisualization();
        });
    </script>
</body>
</html>